CREATE TABLE tb_identity (
    Cod INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    Nome VARCHAR(50)
);


INSERT INTO tb_identity (NOME)
VALUES ('LINHA 1'), ('LINHA 2')

CREATE TABLE tb_pk ( 
Cod INT CONSTRAINT pk_test PRIMARY KEY, 
Nome VARCHAR(50)
)

INSERT INTO tb_pk (Cod,NOME)
VALUES (1,'LINHA 1'),(2,'LINHA 3')

INSERT INTO tb_pk (Cod,NOME)
VALUES (2,'LINHA 4')

CREATE TABLE tb_fk_marca (
Cod INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
Nome VARCHAR(50)
)
 
CREATE TABLE tb_fk_carro (
    Placa VARCHAR(6) PRIMARY KEY,
    Modelo VARCHAR(50),
    fk_marca INT,
    CONSTRAINT fk_carro_marca FOREIGN KEY (fk_marca) REFERENCES tb_fk_marca(Cod)
);

INSERT INTO tb_fk_marca (NOME)
VALUES ('VW'), ('CHEVROLET'), ('TOYOTA')

INSERT INTO tb_fk_carro (Placa,modelo,fk_marca)
VALUES ('PLA001', 'FOX', 1)
	  ,('PLA002', 'ONIX SEDAN', 2)


INSERT INTO tb_fk_carro (Placa,modelo,fk_marca)
VALUES ('PLA004', 'ARGO', 4)

INSERT INTO tb_fk_marca (NOME)
VALUES ('FIAT')


CREATE TABLE tb_unique(
Cod INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY, 
Nome VARCHAR(50), 
CPF CHAR(11) CONSTRAINT UQ_CPF UNIQUE 
)

INSERT INTO tb_unique (NOME, CPF)
VALUES ('PESSOA A', '11122233344'), ('PESSOA B', '11122233345')

INSERT INTO tb_unique (NOME, CPF)
VALUES ('PESSOA C', '11122233344')

SELECT * FROM tb_unique


CREATE TABLE tb_notnull( 
Cod INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY, 
NOME VARCHAR(50) NOT NULL, 
DT DATE NULL 
)

INSERT INTO tb_notnull (nome, dt)
VALUES ('A', CURRENT_TIMESTAMP);

SELECT * FROM tb_notnull

INSERT INTO tb_notnull ( NOME, DT)
VALUES (NULL, CURRENT_TIMESTAMP)

CREATE TABLE tb_default(
Cod INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY, 
Nome VARCHAR(50), 
dtInsert DATE CONSTRAINT DF_DATA DEFAULT (CURRENT_TIMESTAMP) 
)

INSERT INTO tb_default ( NOME, dtInsert)
VALUES ('A', '2020-04-15')

SELECT *
FROM tb_default

INSERT INTO tb_default (NOME)
VALUES ('B')

CREATE TABLE tb_check(
Cod INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY, 
NOME VARCHAR(50) NOT NULL, 
VALOR NUMERIC (6,2) CHECK (VALOR > 0),
LETRA CHAR(1) CHECK (LETRA IN ('A', 'B', 'C'))
)

INSERT INTO tb_check ( NOME, VALOR, LETRA)
VALUES ('linha 1', 100.99, 'A')

SELECT *
FROM tb_check

INSERT INTO tb_check ( NOME, VALOR, LETRA)
VALUES ('linha 2', 0, 'A')

INSERT INTO tb_check ( NOME, VALOR, LETRA)
VALUES ('linha 2', 20, 'D')
