CREATE TABLE DEPARTAMENTO (
CODIGO INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
DESCRICAO VARCHAR(100) NOT NULL);

CREATE TABLE FUNCAO (
CODIGO INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
DESCRICAO VARCHAR(100))

CREATE TABLE FUNCIONARIO(
MATRICULA INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
NOME VARCHAR (255) NOT NULL,
DATANASCIMENTO DATE NOT NULL,
CPF CHAR(11) UNIQUE CHECK (LENGTH(CPF) = 11),
SALARIO MONEY NULL,
DATAADMISSAO DATE DEFAULT (CURRENT_TIMESTAMP),
DATADEMISSAO DATE NULL,
INICIOFERIAS DATE NULL,
FIMFERIAS DATE NULL,
STATUS_FUNC VARCHAR (20) CHECK (STATUS_FUNC IN ('ATIVO','INATIVO','FERIAS','LICENÇA','INSS')),
CODDEPTO INT,
CODSUPERVISOR INT,
CODFUNCAO INT,
CONSTRAINT FK_FUNC_DEPTO FOREIGN KEY (CODDEPTO) REFERENCES DEPARTAMENTO (CODIGO),
CONSTRAINT FK_FUNC_SUPERVISOR FOREIGN KEY (CODSUPERVISOR) REFERENCES FUNCIONARIO (MATRICULA),
CONSTRAINT FK_FUNC_FUNCAO FOREIGN KEY (CODFUNCAO) REFERENCES FUNCAO (CODIGO));


INSERT INTO DEPARTAMENTO(DESCRICAO)
VALUES
	('TECNOLOGIA DA INFORMACAO'),
	('RECURSOS HUMANOS'),
	('JURIDICO'),('SELEÇÃO'),
	('CONTABILIDADE'),
	('CONTAS A PAGAR E RECEBER'), 
	('DEPARTAMENTO PESSOAL')

INSERT INTO FUNCAO (DESCRICAO)
VALUES ('ESTAGIARIO'), ('ANALISTA JR'),('ANALISTA PL'),('ANALISTA SR'),('COORDENADOR'),('GERENTE')

INSERT INTO FUNCIONARIO (NOME, DATANASCIMENTO,CPF, SALARIO,DATAADMISSAO,DATADEMISSAO,INICIOFERIAS,FIMFERIAS, STATUS_FUNC, CODDEPTO, CODSUPERVISOR, CODFUNCAO)
VALUES 
('ANA MARIA', '2000-01-01','12345678911', 1200.55, '2018-05-01',NULL,NULL,NULL, 'ATIVO', 1, 6, 2 ),
('JOSE HENRIQUE', '1998-11-20','12345678912', 2575.55, '2005-09-01','2017-12-01',NULL,NULL, 'INATIVO', 7, NULL, 3 ),
('ANA MARIA', '2002-08-21','12345678913', 950.00, '2019-01-01',NULL,NULL,NULL, 'ATIVO', 6, NULL, 1),
('LUAN FELIX', '1991-09-28','12345678914', 3500.00, '2013-04-01',NULL,NULL,NULL, 'ATIVO', 3,NULL,2),
('FELIPE JOSE DOS SANTOS', '1996-01-11','12345678915', 4000, '2011-05-01','2015-01-29',NULL,NULL, 'INATIVO', 2, NULL, 3),
('MARCELO JOSE', '1980-10-05','12345678916', 7000, '2000-05-01',NULL,'2019-05-01','2019-06-01', 'ATIVO', 1, NULL, 1),
('MARIANA MARIA', '1987-02-08','12345678917', 4500, '2010-01-01',NULL,NULL,NULL, 'INSS', 1, 6, 3 ),
('JULIANA MARIA DOS SANTOS', '2002-01-01','12345678918', 2000, '2017-05-01',NULL,NULL,NULL, 'LICENÇA', 5, NULL, 2 ),
('MARIA ALICIA', '2001-01-01','12345678919', 950, '2018-05-01',NULL,NULL,NULL, 'ATIVO', 1, 6, 1)


